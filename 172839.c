int avio_close_dyn_buf(AVIOContext *s,uint8_t **pbuffer) static const char padbuf [ 16 ] = { ( 0 ) } ; if ( ! s -> max_packet_size )  avio_write ( s , padbuf , ( sizeof ( padbuf ) ) ); void avio_write(AVIOContext *s,const unsigned char *buf,int size) if ( s -> direct && ! s -> update_checksum )  while ( size > 0 )  int len = ( s -> buf_end - s -> buf_ptr > size ? size : s -> buf_end - s -> buf_ptr ) ; memcpy ( ( s -> buf_ptr ) , buf , len ); s -> buf_ptr += len; if ( s -> buf_ptr >= s -> buf_end )  flush_buffer ( s ); buf += len; size -= len; 