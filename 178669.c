char *svn_dirent_join(const char *base,const char *component,apr_pool_t *pool) apr_size_t blen = strlen ( base ) ; apr_size_t clen = strlen ( component ) ; char * dirent ; int add_separator ; if ( svn_dirent_is_absolute ( component ) )  svn_boolean_t svn_dirent_is_absolute(const char *dirent) if ( ! dirent )  return 0 ; if ( dirent [ 0 ] == 47 )  return ! 0 ; return 0 ; if ( base [ 0 ] == '\0' )  if ( component [ 0 ] == '\0' )  add_separator = 1; if ( base [ blen - 1 ] == 47 )  add_separator = 0; dirent = ( apr_palloc ( pool , blen + add_separator + clen + 1 ) ); memcpy ( dirent , base , blen ); dirent [ blen ] = 47; memcpy ( ( dirent + blen + add_separator ) , component , clen + 1 ); return dirent ; 