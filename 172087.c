HeapScanDesc heap_beginscan(Relation relation,Snapshot snapshot,int nkeys,ScanKey key) return heap_beginscan_internal ( relation , snapshot , nkeys , key , ( ( bool ) 1 ) , ( ( bool ) 1 ) , ( ( bool ) 0 ) ) ; static HeapScanDesc heap_beginscan_internal(Relation relation,Snapshot snapshot,int nkeys,ScanKey key,bool allow_strat,bool allow_sync,bool is_bitmapscan) HeapScanDesc scan ; scan = ( ( HeapScanDesc ) ( MemoryContextAlloc ( CurrentMemoryContext , sizeof ( HeapScanDescData ) ) ) ); if ( nkeys > 0 )  scan -> rs_key = ( ( void * ) 0 ); initscan ( scan , key , ( ( bool ) 0 ) ); static void initscan(HeapScanDesc scan,ScanKey key,bool is_rescan) bool allow_strat ; bool allow_sync ; scan -> rs_nblocks = RelationGetNumberOfBlocksInFork ( scan -> rs_rd , MAIN_FORKNUM ); if ( ! ( ( scan -> rs_rd -> rd_rel -> relpersistence ) == 't' ) && scan -> rs_nblocks > ( NBuffers / 4 ) )  allow_sync = scan -> rs_allow_sync; allow_strat = allow_sync = ( ( bool ) 0 ); if ( is_rescan )  if ( allow_sync && synchronize_seqscans )  scan -> rs_syncscan = ( ( bool ) 0 ); scan -> rs_startblock = 0; scan -> rs_inited = ( ( bool ) 0 ); scan -> rs_ctup . t_data = ( ( void * ) 0 ); ( ( ( void ) ( ( bool ) 1 ) ) , ( ( ( ( ( void ) ( ( bool ) 1 ) ) , ( & ( & scan -> rs_ctup . t_self ) -> ip_blkid ) -> bi_hi = ( ( ( BlockNumber ) 0xFFFFFFFF ) >> 16 ) ) , ( & ( & scan -> rs_ctup . t_self ) -> ip_blkid ) -> bi_lo = ( ( ( BlockNumber ) 0xFFFFFFFF ) & 0xffff ) ) ) ) , ( & scan -> rs_ctup . t_self ) -> ip_posid = ( ( OffsetNumber ) 0 ); scan -> rs_cbuf = 0; scan -> rs_cblock = ( ( BlockNumber ) 0xFFFFFFFF ); ( ( ( void ) ( ( bool ) 1 ) ) , ( ( ( ( ( void ) ( ( bool ) 1 ) ) , ( & ( & scan -> rs_mctid ) -> ip_blkid ) -> bi_hi = ( ( ( BlockNumber ) 0xFFFFFFFF ) >> 16 ) ) , ( & ( & scan -> rs_mctid ) -> ip_blkid ) -> bi_lo = ( ( ( BlockNumber ) 0xFFFFFFFF ) & 0xffff ) ) ) ) , ( & scan -> rs_mctid ) -> ip_posid = ( ( OffsetNumber ) 0 ); if ( key != ( ( void * ) 0 ) )  memcpy ( ( scan -> rs_key ) , key , ( scan -> rs_nkeys ) * sizeof ( ScanKeyData ) ); if ( ! scan -> rs_bitmapscan )  if ( scan -> rs_rd -> pgstat_info != ( ( void * ) 0 ) )  scan -> rs_rd -> pgstat_info -> t_counts . t_numscans ++; 