void pgstat_report_activity(BackendState state,const char *cmd_str) volatile PgBackendStatus * beentry = MyBEEntry ; TimestampTz current_timestamp ; int len = 0 ; if ( ! beentry )  current_timestamp = GetCurrentTimestamp ( ); if ( ! pgstat_track_activities && ( beentry -> st_state ) != STATE_DISABLED )  if ( cmd_str != ( ( void * ) 0 ) )  len = pg_mbcliplen ( cmd_str , ( strlen ( cmd_str ) ) , pgstat_track_activity_query_size - 1 ); beentry -> st_changecount ++; beentry -> st_state = state; beentry -> st_state_start_timestamp = current_timestamp; if ( cmd_str != ( ( void * ) 0 ) )  memcpy ( ( ( char * ) ( beentry -> st_activity ) ) , cmd_str , len ); beentry -> st_activity [ len ] = '\0'; beentry -> st_activity_start_timestamp = start_timestamp; beentry -> st_changecount ++; 