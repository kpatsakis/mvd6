static void PgstatCollectorMain(int argc,char *argv[]) int len ; PgStat_Msg msg ; int wr ; if ( need_exit )  while ( ! need_exit )  len = ( recv ( pgStatSock , ( ( char * ) ( & msg ) ) , sizeof ( PgStat_Msg ) , 0 ) ); if ( len < 0 )  if ( * __errno_location ( ) == 11 || * __errno_location ( ) == 11 || * __errno_location ( ) == 4 )  if ( len < sizeof ( PgStat_MsgHdr ) )  if ( msg . msg_hdr . m_size != len )  switch ( msg . msg_hdr . m_type )  pgstat_recv_resetsharedcounter ( ( ( PgStat_MsgResetsharedcounter * ) ( & msg ) ) , len ); wr = WaitLatchOrSocket ( ( & pgStatLatch ) , 1 << 0 | 1 << 4 | 1 << 1 , pgStatSock , - 1L ); if ( wr & 1 << 4 )  static void pgstat_recv_resetsharedcounter(PgStat_MsgResetsharedcounter *msg,int len) if ( ( msg -> m_resettarget ) == RESET_BGWRITER )  memset ( ( & globalStats ) , 0 , sizeof ( globalStats ) ); 