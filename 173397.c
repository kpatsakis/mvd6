void av_url_split(char *proto,int proto_size,char *authorization,int authorization_size,char *hostname,int hostname_size,int *port_ptr,char *path,int path_size,const char *url) const char * p ; const char * ls ; const char * ls2 ; const char * at ; const char * col ; const char * brk ; if ( p = ( strchr ( url , ':' ) ) )  p ++; if ( ( * p ) == '/' )  p ++; if ( ( * p ) == '/' )  p ++; ls = ( strchr ( p , '/' ) ); ls2 = ( strchr ( p , 63 ) ); if ( ! ls )  ls = ls2; if ( ls && ls2 )  ls = ( ls > ls2 ? ls2 : ls ); if ( ls )  ls = & p [ strlen ( p ) ]; if ( ls != p )  while ( ( at = ( strchr ( p , 64 ) ) ) && at < ls )  p = at + 1; if ( ( * p ) == '[' && ( brk = ( strchr ( p , ']' ) ) ) && brk < ls )  if ( ( col = ( strchr ( p , ':' ) ) ) && col < ls )  av_strlcpy ( hostname , p , ( col + 1 - p > hostname_size ? hostname_size : col + 1 - p ) ); * port_ptr = atoi ( col + 1 ); 