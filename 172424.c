void ff_parse_key_value(const char *str,ff_parse_key_val_cb callback_get_buf,void *context) const char * ptr = str ; const char * key ; while ( * ptr && ( av_isspace ( ( * ptr ) ) || ( * ptr ) == ',' ) )  ptr ++; if ( ! ( * ptr ) )  key = ptr; if ( ! ( ptr = ( strchr ( key , '=' ) ) ) )  ptr ++; key_len = ( ptr - key ); callback_get_buf ( context , key , key_len , & dest , & dest_len ); if ( ( * ptr ) == '\"' )  ptr ++; while ( * ptr && ( * ptr ) != '\"' )  if ( ( * ptr ) == '\\' )  if ( ! ptr [ 1 ] )  if ( dest && dest < dest_end )  * ( dest ++ ) = ptr [ 1 ]; ptr += 2; if ( dest && dest < dest_end )  * ( dest ++ ) = * ptr; ptr ++; if ( ( * ptr ) == '\"' )  ptr ++; for (;  *ptr && !(av_isspace(( *ptr)) || ( *ptr) == ','); ptr++) if ( dest && dest < dest_end )  * ( dest ++ ) = * ptr; if ( dest )  * dest = 0; 