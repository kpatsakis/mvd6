static char *handle_skinny_show_device(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a) switch ( cmd )  return _skinny_show_device ( 0 , a -> fd , NULL , NULL , a -> argc , ( const char * * ) a -> argv ) ; static char *_skinny_show_device(int type, int fd, struct mansession *s, const struct message *m, int argc, const char *argv[]) struct skinny_device * d ; if ( argc < 4 )  if ( ! strcasecmp ( argv [ 3 ] , d -> id ) || ! strcasecmp ( argv [ 3 ] , d -> name ) )  if ( type == 0 )  astman_append ( s , "DeviceType: %s\r\n" , device2str ( d -> type ) ); static char *device2str(int type) char * tmp ; switch ( type )  if ( ! ( tmp = ast_threadstorage_get ( & device2str_threadbuf , DEVICE2STR_BUFSIZE ) ) )  snprintf ( tmp , DEVICE2STR_BUFSIZE , "UNKNOWN-%d" , type ); return tmp ; 