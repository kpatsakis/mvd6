ep_stack_t ep_stack_new() ep_stack_t s = ( struct _ep_stack_frame_t * * ) ( ep_alloc ( sizeof ( struct _ep_stack_frame_t * ) ) ) ; void *ep_alloc(size_t size) return emem_alloc ( size , & ep_packet_mem ) ; static void *emem_alloc(size_t size,emem_header_t *mem) void * buf = ( mem -> memory_alloc ) ( size , mem ) ; return buf ; * s = ( ( struct _ep_stack_frame_t * ) ( ep_alloc0 ( sizeof ( struct _ep_stack_frame_t ) ) ) ); void *ep_alloc0(size_t size) return memset ( ep_alloc ( size ) , '\0' , size ) ; void *ep_alloc(size_t size) return emem_alloc ( size , & ep_packet_mem ) ; 